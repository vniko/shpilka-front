<div class="b-user_data is-correct">
<div v-if="!clientType">
  <button class="btn btn-outline-success btn-lg" @click="clientType='old'">Постоянный клиент</button>
  <button class="btn btn-outline-info btn-lg" @click="clientType='new'">Новый клиент</button>
</div>
<!-- OLD client -->
<div v-show="clientType == 'old'">
  <button class="btn btn-outline-info btn-lg" @click.prevent="clientType='new'">Ввести нового</button><br><br>
  <hr class="b-line_hr">
  <b>Найти клиента</b>

  <div class="input-group" >
      <span class="input-group-addon"><i class="icon-card">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="21 3146 34 26"><g data-name="Group 2" transform="translate(0 2907)"><g transform="translate(21 240)"><path data-name="Path 14" d="M3.669 23.559H29.931A3.692 3.692 0 0 0 33.6 19.89V3.669A3.692 3.692 0 0 0 29.931 0H3.669A3.692 3.692 0 0 0 0 3.669V19.89a3.692 3.692 0 0 0 3.669 3.669ZM1.159 3.669a2.506 2.506 0 0 1 2.51-2.51H29.931a2.506 2.506 0 0 1 2.51 2.51V19.89a2.506 2.506 0 0 1-2.51 2.51H3.669a2.506 2.506 0 0 1-2.51-2.51Z"/><path data-name="Path 15" d="M15.145 26.29A7.145 7.145 0 1 0 8 19.145a7.145 7.145 0 0 0 7.145 7.145Zm-4.21-2.9a5.967 5.967 0 0 1 8.419 0 5.959 5.959 0 0 1-4.21 1.738 5.89 5.89 0 0 1-4.21-1.738Zm4.21-3.283a1.73 1.73 0 1 1 1.231-0.507 1.738 1.738 0 0 1-1.231Zm0-6.952A5.975 5.975 0 0 1 20.088 22.5a6.913 6.913 0 0 0-3.244-1.777 2.889 2.889 0 1 0-4.6-2.317 2.785 2.785 0 0 0 1.2 2.317A7.268 7.268 0 0 0 10.2 22.5a5.975 5.975 0 0 1 4.943-9.346Z" transform="translate(-4.91 -7.366)"/><rect data-name="Rectangle 3" width="9.926" height="1.159" transform="translate(19.465 7.338)"/><rect data-name="Rectangle 4" width="9.926" height="1.159" transform="translate(19.465 11.2)"/><rect data-name="Rectangle 5" width="9.926" height="1.159" transform="translate(19.465 15.062)"/></g></g></svg>
      </i></span>
    <autocomplete
      :url="searchUrl"
      :customHeaders="authHeaders"
      anchor="name"
      label="phone"
      class-name="form-control"
      placeholder="Имя или  телефон"
      :on-select="initCustomer"
    >
    </autocomplete>
  </div>

</div>
<!-- end old client -->
<!-- new client -->
<form action="?" method="post" novalidate v-show="clientType=='new' || clientInfo.id">
  <button class="btn btn-outline-info btn-lg" @click.prevent="clientType='old'; resetUser">Выбрать клиента</button>
  <button class="btn btn-outline-danger btn-lg" @click.prevent="resetUser">Очистить</button>
  <br><br>
  <hr class="b-line_hr">

  <div @input="watchInputData()" class="input-group" :class="{'is-correct':isCorrect('name'), 'has-error': hasError('name')}">
                                    <span class="input-group-addon"><i class="icon-card">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="21 3146 34 26"><g data-name="Group 2" transform="translate(0 2907)"><g transform="translate(21 240)"><path data-name="Path 14" d="M3.669 23.559H29.931A3.692 3.692 0 0 0 33.6 19.89V3.669A3.692 3.692 0 0 0 29.931 0H3.669A3.692 3.692 0 0 0 0 3.669V19.89a3.692 3.692 0 0 0 3.669 3.669ZM1.159 3.669a2.506 2.506 0 0 1 2.51-2.51H29.931a2.506 2.506 0 0 1 2.51 2.51V19.89a2.506 2.506 0 0 1-2.51 2.51H3.669a2.506 2.506 0 0 1-2.51-2.51Z"/><path data-name="Path 15" d="M15.145 26.29A7.145 7.145 0 1 0 8 19.145a7.145 7.145 0 0 0 7.145 7.145Zm-4.21-2.9a5.967 5.967 0 0 1 8.419 0 5.959 5.959 0 0 1-4.21 1.738 5.89 5.89 0 0 1-4.21-1.738Zm4.21-3.283a1.73 1.73 0 1 1 1.231-0.507 1.738 1.738 0 0 1-1.231Zm0-6.952A5.975 5.975 0 0 1 20.088 22.5a6.913 6.913 0 0 0-3.244-1.777 2.889 2.889 0 1 0-4.6-2.317 2.785 2.785 0 0 0 1.2 2.317A7.268 7.268 0 0 0 10.2 22.5a5.975 5.975 0 0 1 4.943-9.346Z" transform="translate(-4.91 -7.366)"/><rect data-name="Rectangle 3" width="9.926" height="1.159" transform="translate(19.465 7.338)"/><rect data-name="Rectangle 4" width="9.926" height="1.159" transform="translate(19.465 11.2)"/><rect data-name="Rectangle 5" width="9.926" height="1.159" transform="translate(19.465 15.062)"/></g></g></svg>
                                    </i></span>
    <input type="text" id="frm-user_data_name_first" v-model="clientInfo.name" required class="form-control">
    <label for="frm-user_data_name_first" class="text-danger">Имя<span
      class="error_text">Введите значение</span></label>
    <i class="icon-v">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="319.396 3946.679 23.204 18.823">
        <g transform="translate(244 4221.001)">
          <g data-name="Group 32" transform="translate(45 -1263.183)">
            <path data-name="Path 48"
                  d="M51.1,989.748l-12.613,14.244-5.59-5.4a1.085,1.085,0,0,0-1.642.182,1.62,1.62,0,0,0,.154,1.939l6.388,6.169a1.066,1.066,0,0,0,1.543-.064l13.357-15.08a1.6,1.6,0,0,0,.278-1.578c-.526-1.006-1.2-.969-1.875-.414Z"
                  transform="translate(0 0)"/>
          </g>
        </g>
      </svg>
    </i>
    <i class="icon-x spt spt-icon_x_31x33"></i>
  </div>
  <div class="input-group"  :class="{'is-correct':isCorrect('phone'), 'has-error': hasError('phone')}">
                                    <span class="input-group-addon"><i class="icon-phone">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="20 3344 26 33"><g data-name="Group 202" transform="translate(-5 2910)"><g transform="translate(-3 410.333)"><g data-name="Group 14" transform="translate(30.284 24.668)"><g data-name="Group 13"><path data-name="Path 20" class="cls-2" d="M42.281,33.776a.178.178,0,0,0,.2.088l2.23-.5a.178.178,0,0,0,.112-.079.176.176,0,0,0,.023-.135l-1.864-8.345A.182.182,0,0,0,42.9,24.7a.174.174,0,0,0-.134-.024l-2.232.5a.179.179,0,0,0-.112.079.186.186,0,0,0-.023.135l1.865,8.345A.193.193,0,0,0,42.281,33.776Z" transform="translate(-34.374 -24.668)"/><path data-name="Path 21" class="cls-2" d="M50.808,54.971l-5.676-5.737a.178.178,0,0,0-.211-.031l-.747.41c-.887.485-2.676.448-3.2-.515L35.151,38.472c-.528-.963.4-2.491,1.291-2.976l.747-.41a.177.177,0,0,0,.088-.2L35.5,27.019a.178.178,0,0,0-.312-.075c-.144.174-3.54,4.268-4.234,5.949-1.408,3.408-.594,7.924,2.418,13.422l.032.06c3.012,5.5,6.378,8.615,10.009,9.265,1.79.32,7.068-.337,7.292-.365a.176.176,0,0,0,.146-.118A.178.178,0,0,0,50.808,54.971Z" transform="translate(-30.284 -25.562)"/><path data-name="Path 22" class="cls-2" d="M64.223,66.453a.177.177,0,0,0,.054-.126.186.186,0,0,0-.052-.126L58.2,60.137a.179.179,0,0,0-.252,0l-1.621,1.612a.177.177,0,0,0-.03.212.167.167,0,0,0,.029.04l6.028,6.065a.179.179,0,0,0,.252,0Z" transform="translate(-40.798 -38.997)"/></g></g></g></g></svg></i></span>
    <masked-input required @input="clientInfo.phoneRaw = arguments[1];watchInputData('phone')"  v-model="clientInfo.phone" mask="(111)111-11-11" class="form-control" id="frm-user_data_phone" />
    <label for="frm-user_data_phone" class="text-danger">Номер телефона<span class="error_text">Ввведите значение в формате (920)123-45-67</span></label>
    <i class="icon-v">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="319.396 3946.679 23.204 18.823">
        <g transform="translate(244 4221.001)">
          <g data-name="Group 32" transform="translate(45 -1263.183)">
            <path data-name="Path 48"
                  d="M51.1,989.748l-12.613,14.244-5.59-5.4a1.085,1.085,0,0,0-1.642.182,1.62,1.62,0,0,0,.154,1.939l6.388,6.169a1.066,1.066,0,0,0,1.543-.064l13.357-15.08a1.6,1.6,0,0,0,.278-1.578c-.526-1.006-1.2-.969-1.875-.414Z"
                  transform="translate(0 0)"/>
          </g>
        </g>
      </svg>
    </i>
    <i class="icon-x spt spt-icon_x_31x33"></i>
  </div>
  <div class="input-group"  :class="{'is-correct':isCorrect('dob'), 'has-error': hasError('dob')}">
                                    <span class="input-group-addon"><i class="icon-calendar">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="708.91 447 29.68 33.92"><g
                                      data-name="Group 204" transform="translate(504)"><path data-name="Path 55"
                                                                                             d="M0 32V52.32a2.72 2.72 0 0 0 2.7 2.75H26.98a2.72 2.72 0 0 0 2.7-2.74V32ZM7.42 53.03h-5.4V47.6h5.4Zm0-6.78h-5.4V40.82h5.4Zm0-6.78h-5.4V34.03h5.4ZM14.17 53.03H8.77V47.6h5.4Zm0-6.78H8.77V40.82h5.4Zm0-6.78H8.77V34.03h5.4ZM20.91 53.03h-5.4V47.6h5.4Zm0-6.78h-5.4V40.82h5.4Zm0-6.78h-5.4V34.03h5.4ZM27.66 53.03h-5.4V47.6h5.4Zm0-6.78h-5.4V40.82h5.4Zm0-6.78h-5.4V34.03h5.4Z"
                                                                                             transform="translate(204.905 425.854)"/><path
                                      data-name="Path 56"
                                      d="M26.98 4.07H22.6V1.02a1.01 1.01 0 1 0-2.02 0V4.07H9.11V1.02a1.01 1.01 0 1 0-2.02 0V4.07H2.7A2.72 2.72 0 0 0 0 6.82V9.16H0V9.5H29.68V9.16h0V6.82A2.72 2.72 0 0 0 26.98 4.07ZM8.1 8.82a2.04 2.04 0 0 1-1.01-3.8v1.76a1.01 1.01 0 1 0 2.02 0V5.02A2.04 2.04 0 0 1 8.1 8.82Zm13.49 0a2.04 2.04 0 0 1-1.01-3.8v1.76a1.01 1.01 0 1 0 2.02 0V5.02a2.04 2.04 0 0 1-1.01 3.8Z"
                                      transform="translate(204.905 447)"/></g></svg>
                                    </i></span>
    <masked-input required @input="watchInputData('dob')"  v-model="clientInfo.dob" mask="11.11.1111" class="form-control" id="frm-user_data_birthday" />
    <label for="frm-user_data_birthday">Дата рождения<span class="error_text">Введите дату в формате дд.мм.гггг</span></label>
    <i class="icon-v">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="319.396 3946.679 23.204 18.823">
        <g transform="translate(244 4221.001)">
          <g data-name="Group 32" transform="translate(45 -1263.183)">
            <path data-name="Path 48"
                  d="M51.1,989.748l-12.613,14.244-5.59-5.4a1.085,1.085,0,0,0-1.642.182,1.62,1.62,0,0,0,.154,1.939l6.388,6.169a1.066,1.066,0,0,0,1.543-.064l13.357-15.08a1.6,1.6,0,0,0,.278-1.578c-.526-1.006-1.2-.969-1.875-.414Z"
                  transform="translate(0 0)"/>
          </g>
        </g>
      </svg>
    </i>
    <i class="icon-x spt spt-icon_x_31x33"></i>
  </div>
  <div class="input-group"  :class="{'is-correct':isCorrect('email'), 'has-error': hasError('email')}">
                                    <span class="input-group-addon"><i class="icon-letter">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="533 448 53.783 33.003"><path data-name="Path 54" d="M7.222,975.362A1.233,1.233,0,0,0,6,976.584v30.559a1.233,1.233,0,0,0,1.222,1.222H58.561a1.233,1.233,0,0,0,1.222-1.222V976.584a1.233,1.233,0,0,0-1.222-1.222Zm.955,1.222H57.606L32.892,997.173Zm-.955.783,16.75,13.942-16.75,15.012Zm51.339,0v28.954L41.811,991.31ZM24.908,992.093l7.6,6.341a.611.611,0,0,0,.764,0l7.6-6.341,16.788,15.05H8.12Z" transform="translate(527 -527.362)"/></svg>
                                    </i></span>
    <input @input="watchInputData('email')" type="text" id="frm-user_data_email" v-model="clientInfo.email" required class="form-control">
    <label for="frm-user_data_email">E-mail<span
      class="error_text">Please, enter correct value</span></label>
    <i class="icon-v">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="319.396 3946.679 23.204 18.823">
        <g transform="translate(244 4221.001)">
          <g data-name="Group 32" transform="translate(45 -1263.183)">
            <path data-name="Path 48"
                  d="M51.1,989.748l-12.613,14.244-5.59-5.4a1.085,1.085,0,0,0-1.642.182,1.62,1.62,0,0,0,.154,1.939l6.388,6.169a1.066,1.066,0,0,0,1.543-.064l13.357-15.08a1.6,1.6,0,0,0,.278-1.578c-.526-1.006-1.2-.969-1.875-.414Z"
                  transform="translate(0 0)"/>
          </g>
        </g>
      </svg>
    </i>
    <i class="icon-x spt spt-icon_x_31x33"></i>
  </div>

  <template v-if="hasKids">
  <h2 class="text-info">Дети</h2>
  <div class="input-group" >
    <select class="form-control" v-model="clientInfo.kids">
      <option value="0">Нет</option>
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
    </select>
  </div>
  <h2 class="text-info">Комментарий</h2>
  <div class="input-group" >
                <textarea class="form-control" v-model="clientInfo.visitComment">
                </textarea>
  </div>
  </template>

</form>
<!-- END new client -->
</div>
